['add coverage reporting via istanbul. suggestion for keeping track of code coverage via istanbul ?? in this changeset.??coverage will be regenerated any time `npm test` is executed.', "nchase many thanks for getting stuck in here - as you can probably tell i need all the help i can get when it comes to testing! unfortunately i'm away on holiday until the 27th and with very limited internet access so i won't be able to check out this or the other prs until i'm back. i'll try and get onto it as soon as i can after that however.very much appreciate you starting to pick up some of this stuff!", "nchase i've merged this in now. many thanks. it will serve as a useful reminder to me of how woeful my test coverage currently is :-)as a (perhaps painfully obvious) aside. some parts of the codebase are seriously testing-hostile at the moment. i'll slowly start to try and clean up and refactor these so that it's practical to write some tests for them. anyway. thanks again for the contribution!", "my pleasure. i'll try to dig back in [as time allows] and see where i might be able to keep chipping away at it", 'thanks noah. much appreciated!', "so the code coverage reduction seems more a byproduct of the change to istanbul than anything else. based on the coverage report i don't see a way to add much more coverage without getting in to more elaborate / brittle testing scenarios.", 'adding basic coverage for istanbul', 'looks good! thanks!', 'henrjk thanks for adding some context to this for posterity. work is in progress on #272 submitted by vsimonian to wrap this in an npm command.', 'improve coveralls in travis build. add coveralls badge and improve build script.**update original comment!**the introduction of the coveralls build somewhat unintentionallyhad all tests running at once. this used to fail which was the reasonthat the coverage.sh script was introduced so that the coverage wouldrun separately for unit and integration tests and the results were combined.however it should really be possible to run all tests at once. so thatit makes sense to do so in the build. this should allow to see regressionsin this respect.the coverage script itself is kept as it can still be useful duringdevelopment if only to see how one can run the commands in a shell withoutinstalling istanbul or mocha globally.finally the travis script now sends coverage data in a second step tocoveralls with the intent to easier distinguish cases where the tests fail andwhere coveralls fails.', 'the build bage an only be seen in master.this should be good to be pulled now.', 'thanks!', 'npm binaries are in the path for npm scripts. give the grunt cli js path for istanbul on windows', 'i have hacked up a solution that will replace all !pragma / istanbul ignore single line comments with herecomments. i am still trying to find a way to actually test this automatically.', 'istanbul + mocha + coverage report. hi all. i have got problem to generate coverage report using istanbul + mocha + coverage report. my simple solution based on native examlpes mocha_lazy and coverage_istanbul. unfortunately i always got coverage*.json empty. i debug and found that variable `window.__coverage__` is undefined. example coverage_istanbul work marvelous. could you advice ?', 'coverage for node tests. this pr does the following:- add nyc. istanbul-combine and coveralls as dependencies- adds an environment switch in the makefile on `coverage=true`. where coverage gathered from the `test-node` target and sub-targets- adds an npm `coverage` script that runs `make test` with `coverage=true` for local coverage collection- adds coverage collection on travis for node 7- posts coverage report to coverallscloses #2620 #2351thanks to c089 for getting the basic setup in the makefile working', "in favor of 'istanbul report' over wrapper. is there any specific reason for keeping `istanbul-combine`? for what i can see the results are the same.", 'chore: fix coverage results for all packages. also address issue with istanbul-api package. hopefully.', 'jakxz if we add the yarn.lock can i still use npm?', "nowycheung i've released your work in:`npm cache clear; npm i babel-plugin-istanbulnext`could you try installing and let me know if this does the trick for you?", "bcoe my guess (say. 50% confidence) at what got things working in #11 for `istanbul-api` was just fixing configuration like this. i don't think `mocha` takes arguments after the `--` like `npm` does.", "mattlewis92 fwiw i think i have a legit failure on windows? it's in `istanbul-lib-sourcemaps/transformer`."]